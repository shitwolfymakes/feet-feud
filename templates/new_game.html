{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2 style="text-align: center; color: #ffd700; margin-bottom: 30px;">Setup New Game</h2>

    {% if error %}
    <div class="alert alert-danger" style="text-align: center; margin-bottom: 20px;">
        {{ error }}
    </div>
    {% endif %}

    <form method="POST" style="max-width: 500px; margin: 0 auto;">
        <div class="form-group">
            <label for="team1_name">üî• Team 1 Name:</label>
            <input type="text" id="team1_name" name="team1_name" required
                   placeholder="Enter first team name" maxlength="50">
        </div>

        <div class="form-group">
            <label for="team2_name">‚ö° Team 2 Name:</label>
            <input type="text" id="team2_name" name="team2_name" required
                   placeholder="Enter second team name" maxlength="50">
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button type="submit" class="btn" style="font-size: 1.2rem; padding: 15px 30px;">
                üöÄ Start Game!
            </button>
            <a href="/" class="btn btn-secondary" style="margin-left: 10px;">
                ‚Üê Back to Home
            </a>
        </div>
    </form>
</div>

<div class="card" style="text-align: center;">
    <h3 style="color: #74b9ff; margin-bottom: 15px;">Game Rules Reminder</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <div>
            <h4 style="color: #ffd700;">Round Structure</h4>
            <p>Teams take turns guessing answers to survey questions</p>
        </div>
        <div>
            <h4 style="color: #ffd700;">Scoring</h4>
            <p>Points based on how many people gave that answer</p>
        </div>
        <div>
            <h4 style="color: #ffd700;">Strikes</h4>
            <p>3 wrong answers = opportunity for other team to steal</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
// Auto-focus first input
document.getElementById('team1_name').focus();

// Form validation
document.querySelector('form').addEventListener('submit', function(e) {
    const team1 = document.getElementById('team1_name').value.trim();
    const team2 = document.getElementById('team2_name').value.trim();

    if (team1.length < 2 || team2.length < 2) {
        e.preventDefault();
        alert('Team names must be at least 2 characters long!');
        return;
    }

    if (team1.toLowerCase() === team2.toLowerCase()) {
        e.preventDefault();
        alert('Team names must be different!');
        return;
    }
});
{% endblock %}